import { MessageBasedClient } from '@airgap/beacon-core';
import { ConnectionContext, ExtendedPostMessagePairingResponse, EncryptedExtensionMessage, PostMessagePairingRequest } from '@airgap/beacon-types';
/**
 * @internalapi
 *
 *
 */
export declare class PostMessageClient extends MessageBasedClient {
    protected readonly activeListeners: Map<string, (message: EncryptedExtensionMessage, context: ConnectionContext) => void>;
    init(): Promise<void>;
    listenForEncryptedMessage(senderPublicKey: string, messageCallback: (message: string, context: ConnectionContext) => void): Promise<void>;
    sendMessage(message: string, peer: PostMessagePairingRequest | ExtendedPostMessagePairingResponse): Promise<void>;
    listenForChannelOpening(messageCallback: (pairingResponse: ExtendedPostMessagePairingResponse) => void): Promise<void>;
    sendPairingRequest(id: string): Promise<void>;
    isChannelOpenMessage(message: any): Promise<boolean>;
    private subscribeToMessages;
}
